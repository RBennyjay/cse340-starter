<main>
    <div class="login-container">
        <h2>Register</h2>

        <% if (message) { %>
            <div class="error-message">
                <%= message %>
            </div>
            <% } %>

                <form class="login-form" action="/account/register" method="POST">
                    <p style="font-size: 0.9rem; color: #666; margin-bottom: 1rem;">
                        Fields marked with <span style="color: red">*</span> are required.
                    </p>

                    <label for="firstname">First Name <span style="color: red">*</span></label>
                    <input type="text" id="firstname" name="firstname" required>

                    <label for="lastname">Last Name <span style="color: red">*</span></label>
                    <input type="text" id="lastname" name="lastname" required>

                    <label for="email">Email <span style="color: red">*</span></label>
                    <input type="email" id="email" name="email" required>

            <label for="password">Password <span style="color: red">*</span></label>
            <div style="position: relative;">
                <input type="password" id="password" name="password" required style="padding-right: 100px; width: 100%;">
                <button type="button" id="togglePassword" style="position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%);
                       padding: 0.25rem 0.5rem; font-size: 0.8rem; cursor: pointer;">
                    Show
                </button>
            </div>
            <div style="margin-top: 0.5rem; font-size: 0.85rem; color: #666;">
                Password must be at least 12 characters, contain 1 uppercase letter, 1 number, and 1 special character.
            </div>
                    <button type="submit">Register</button>
                </form>

                <div class="register-link">
                    Already have an account? <a href="/account/login">Login</a>
                </div>
    </div>
</main>

<script>
    const toggleBtn = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    toggleBtn.addEventListener('click', () => {
        const isHidden = passwordInput.type === 'password';
        passwordInput.type = isHidden ? 'text' : 'password';
        toggleBtn.textContent = isHidden ? 'Hide' : 'Show';
    });
</script>